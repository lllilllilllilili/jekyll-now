---
post : layout
title : 시프(기)세미나1
---

## 세미나1
세미나1

## File Control
리눅스 시스템에서는 열려진 파일의 속성을 가져오거나 설정할때 fcntl함수를 사용한다.

format 
@#include<unistd.h>
@#include<fcntl.h>

int fcntl(int fildes, int cmd);
int fcntl(int fildes, int cmd, long arg);
int fcntl(int fildes, int cmd, struct flock *lock);
fildes : file descriptor
cmd : command
arg : arguments for a command
lock : lock information

## cmd argument

F_DUPFD : 파일 디스크립터를 복제함

F_GETFD, F_SETFD : 파일 디스크립터 flags를 가져오거나 설정

F_GETFL, FSETFL : 파일의 status flags를 가져오가나 설정

F_GETLK, F_SETLK, F_SETLKW : 레코드 lock을 가져오거나 설정

## struct flock for file(record) locking
off_t는 long 형이다.
pid_t 는 프로세스 번호(pid)를 저장하는 타입(t)이라는 의미이다.

## Removing a file

@#include<unistd.h>
unlink 함수는 시스템 호출을 사용하여 파일에 대한 디렉토리 항목을 지우고 링크 개수를 감소시킨다. 
unlink를 사용하려면 파일의 디렉토리 항목에 포함된 모든 디렉토리에 대해 쓰기와 실행 권한이 필요하다.