---
post : layout
title : 빅데이터11
---
## 빅데이터11
빅데이터11

## Bloom Filter
값이 들어왔을때 값을 멤버십 체크를 하는 filtering이다. 용량을 적게 먹는다. 복잡도 O(1)으로 처리된다. 성능도 좋다.

key값이 들어오면, stream data가 들어올때 hash를 하고 k개 (여러 개의 hash function을 받아들이고) hash function에 대해 hash를 하고 해당 bit 들을 1로 setting. 
false negative라는것은 존재하지 않는다. 
false positive는 존재할지 모르지만, false negative 존재하지 않는다.
false negative라는것은, 없다 라고 했는데 사실은 있다. 이런것은 존재하지 않는다.
반대로 false positive는 존재한다. positive 하다 라고하다 라고 생각했는데 있다. 사실은 거짓말 이다.(hash를 쓰게 될때 hash collision이 일어나서 )
false positive로 error 율이 나오는데 error 율은 숫자로 증명되긴 하지만, app에 따라 값을 조정함에 따라 (k,m,n) 낮출수도있고 높힐수도 있다.
error 율이 낮으면 다른 요소 하나를 희생해야 할 수 밖에 없다. 
error 율 높히면 size 줄여도 된다. 메모리를 적게먹어도 된다. 

## Bloom Filter -- Analysis
false positive 확률이 (1-e^-kn/m) 이다.
bloom filter가 8billion 이라 하자. n은 들어오는 stream data 개수 (key 값의 개수) k는 hash function의 숫자 m은 bloom filter size

## Bloom Filter -- Analysis
error율은 이미 정해져 있다. bloom filter를 계속 늘리면 성능이 좋아지는지 궁금한 그래프다.
bloom filter의 size는 정해져 있는데 hash 개수가 많아지면 거꾸로 저장해야 되는 bit가 많아진다. 어느 한순간 최적화 문제로 된다. 어느 일정 수준 이상되면 나빠진다.
