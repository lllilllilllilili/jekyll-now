---
post : layout
title : 데이터통신8
---

## 연습문제 14
사설인터넷에서 모든 문서를 암호화하는데, 응용계층에서 요구사항을 구현한다. 알고리즘 선택하고 TCP/IP 계층에 암호화 층을 추가한다. 메시지를 M이라 하면 E(M) 암호화된 메시지를 가지고, Network 계층에서 H 를 붙여서 넘겨준다. 받은 쪽은 H를 버리고 암호를 풀고 메시지를 가져오는 복호화 기능이 있다.
이때 암호화를 도와주는 계층 SSL or TLS라고 한다.
(SSL - Security Socket Layer, TLS - Transport Layer Security)
프로토콜은 대응되는 기능들이 존재한다. 어플리케이션과 TCP 사이에서 이론적으로는 이러나 애플리케이션의 기능의 일부에 포함될 수 있다.

![인터넷모델에서SSL과 TLS의 위치.jpg](C:\lllilllilllilili.github.io\images\인터넷모델에서SSL과 TLS의 위치.jpg)

## 연습문제 9
대용량의 패킷을 전송할 때의 장점과 단점은 무엇일까?
장점 - 패킷을 분할하면 분할 패킷이 에러나 잘못된 사항이 포함되어 있어도 큰 패킷을 재전송 받는것보다 작은 패킷을 재전송 받는것이 더 빠르다. 그리고 전체 큰 패킷을 받는것보다 작은 패킷으로 받으면 연속적인 딜레이가 생길수도 있으나, 라우터에서 처리하는 데이터의 양은 상대적으로 큰 패킷보다 좋다. 따라서 라우터의 부담을 줄여줄 수 있다.

단점 - 패킷이 작게 분할되면 그만큼 연속적인 상태에서 송수신이 이루어질 것이고 따라서 어느정도 지연이 발생하는 단점이 있다. 각 패킷에는 정해진 헤더 비트가 있는데 패킷을 분할하고 합쳐질때 헤더 비트가 커질 수 있기 때문에 데이터가 커질 수 있다.


![푸리에.PNG](C:\lllilllilllilili.github.io\images\푸리에.PNG)


![rms값.jpg](C:\lllilllilllilili.github.io\images\rms값.jpg)
peak 값으로 A를 표현하기 어렵다.
첫번째 그림에 파형을 알기위해서 rms value를 통해서 진폭을 알 수 있다.
두번째 식이 rms가 주어졌을때 원래 파형의 진폭값이 된다.
주기가 T 일때, 한 주기 동안에 signal의 제곱을 한다. 왜냐하면 한 주기동안에 +, - 가 같이 나올경우 적분시 0이 되기 때문이다.

들어오는 signal이 Acost라하면 제곱의 형태로 들어올것이고
세번째 식처럼 보일 수 있고, A값을 구할 수 있다.


![삼각함수 식 정리.jpg](C:\lllilllilllilili.github.io\images\삼각함수 식 정리.jpg)
삼각함수 식을 정리했다.

## 주기와 주파수
주기는 하나의 사이클을 완성하는데 필요한 시간(초 단위)
주파수는 주기의 역수, 1초 동안 생성되는 신호 주기의 수

## 진폭과 위상은 같지만 주파수가 서로 다른 신호
파형을 결정하는데 3가지 요소가 있다. 진폭, 위상, 주파수

![주파수가 다른 신호.PNG](C:\lllilllilllilili.github.io\images\주파수가 다른 신호.PNG)
진폭은 같지만 위상이 0이고 (t = 0), 주기가 다르다, 주파수도 다르다. 주기와 주파수는 역수관계고, 주파수는 signal의 변화률 물리적인 의미다.

주기는 단위가 T이며, 주파수는 Hz이다. (1Hz=1초에 1번 반복한다.)
주기1초 라는것은 주파수 1Hz, 주기가 1msec = 1KHz

## 주기와 주파수 단위
1s(s) = 1Hz
10^-3s(ms) = 10^3 Hz(kHz)
10^-6s(Microseconds) = 10^6 Hz(MHz)
10^-9s(ns) = 10^9 Hz(GHz)
10^-12(ps) = 10 ^12 Hz(THz)

## 3.3
주파수가 60Hz일때 주기는 얼만가?
1/60s=1.66 msec

## 3.4
100ms 을 Microseconds 로 표시해라.
10^2 * 10^-3 * 10^6 Microsecond = 10^5 Microseconds

## 3.5
주기가 100ms, 주파수는 kHz로 몇으로 표시될까?
10^-2 kHz

## Time domain과 frequency domain

![timedomain과frequencydomain.jpg](C:\lllilllilllilili.github.io\images\timedomain과frequencydomain.jpg)
A)에서 첫번째 그림은 주기가 무한대고 주파수가 0이다.
두번째 그림은 펄스로 표현되며 갑작스럽게 jump한 형태다.
굉장히 급격하게 변하는 signal이다. 주파수가 무한대고 주기가 0이다.
A에 가장 오른쪽의 그래프는 1,2 그림을 frequency domain으로 옮겨놓은것으로 주파수가 0은 어느 부분만 찍히는반면에, 주파수가 무한대인것은 싱크함수를 만들어낸다.(주파수가 무한대로표현)

B에 대한 수식이 싱크함수에 대한 수식이다. 시간이 갈수록 sint는 감소한다. 주파수 도메인에서는 변수f에 대한 수식을 정리할 수 있다.

디지털 시그널은 싱크함수 모양을 갖는다. 디지털 시그널 0과 1이 반복되며, 전자기적 신호로 바꿔서 보낼려면 구리선이나 동축케이블을 써야 하는데 구리선이 주파수가 무한대인 영역은 보낼수가 없다. (하나의 펄스가 다 가려면 0부터 잠깐 1이고 다시 0으로 가는 형태로 보내져야한다.)

받는쪽도 signal을 받아서 Timedomain에서 복구했을때 A의 가장 오른쪽의 그림의 형태로 나와야 한다.(Frequency domain으로 변경)

매체가 보낼 수 있는 주파수 영역이 아니기 때문에 짤릴수 밖에 없다.(A의 가장 오른쪽의 그림은 sinwave가 무한대 주파수를 갖는 성분까지 더해져서 만들어야 저런 모양이 나온다.)

High-frequency는 전달이 되지 않지만 Low-frequency는 전달이 된다. 주파수 영역에서 크게 진동하는 부분을 Low-frequency라고 봐도 좋을듯 싶다.

실레로 많은 케이블 가격이 짧으면서 비싼 까닭이 H-f를 보내기 위함 정도라고 생각해 볼 수 있을듯하다.

High-frequency가 짤린채로 받는쪽에서 보면 C에서 첫번째 그림처럼 보여질것이고 아날로그 형태이므로 품질이 떨어질 수 밖에 없다. 이에 대한 대안으로 디지털이 나오는건데

디지털은 0과 1로써 파형을 표현할 수 있기 때문에 모호한 부분에 대해서 0과 1로 바꾼다면 적절한 복구를 가능케 할 수 있다. (올라오던 값을 1, 떨어지는 값을 0으로 규약하면 짤린 부분에 대해서 어느정도 복구가 가능할 것이다.) 
C에 다음 그림은 짤린 부분에 대한 어느정도 복구를 생각한 디지털로 보냈을때의 파형이다.
디지털 ADC Converter를 이용해서 아날로그 신호에서 디지털 신호로 바꾼다. 시간이 좀 걸릴수있지만 원래 파형을 복구할 수 있다.(완전히 ..)

디지털은 Error를 복구하는데 좋다. 노이즈에 강하다.
0과 1로만 표현되고 그 사이 애매한 값은 없으니까! 디지털 통신이 아날로그 통신에 비해 품질이 좋다.

## 위상에 따른 주파수와 진폭

![진폭과주파수는같지만위상이다름.PNG](C:\lllilllilllilili.github.io\images\진폭과주파수는같지만위상이다름.PNG)


![2.PNG](C:\lllilllilllilili.github.io\images\2.PNG)



Time domain에 대해서 시간이 0인것에 따른 상대적인 위치를 보여준다. 주파수, 진폭은 같지만 위상이 다르다.
T=0인 시점에서 위상은 0이고, 위상이 1/4가 되면 degree는 90도 이고 위상이 1/2이면 degree 180도를 나타낸다.
위상차가 있다. 첫번째 t=0에 대해 위상차가 존재한다.
진폭, 주기, 위상이 sin wave에 명확한 형태를 정의하는 중요한 요소다.

## 3.6
sin wave의 offset이 1/6 cycle(time 0으로부터)
이 파형의 degree와 radian은 몇일까?
1/6이니까 전체에 1/6만큼만큼 해당 따라서 60도이고,
2파이radians=360도 이므로 60도 만큼 계산된 결과는 파이/3 이다.
정확하게 계산하면 파이/3 rad= 1.046 rad

## 정현파의 예

![정현파의예.jpg](C:\lllilllilllilili.github.io\images\정현파의예.jpg)
여러가지 signal이 3가지요소가 주어지면 그림을 그릴 수 있어야 한다.

## 파장
파장은 한 주기 동안 갈 수 있는 거리 = wavelength = 파장 이라고 한다.
거리는 속도 곱하기 시간이다. c * T(주기)
한 주기 동안 걸리는 시간으로 c속도 만큼 간다. 속도는 전파속도로 빛의 속도에 가깝다. 
(c는 고정적인 값으로 빛의속도에 가깝다.)
x=c*T(/f)다.

빛의 전파속도 3*10^8 이고 주파수가 4*10^14 이라면 이때 파장은?
3*10^8/4*10^14 = 0.75*(microseconds)m 다.

## 시간영역과 주파수영역
시간 영역 도면 - 시간에 대한 순간적인 진폭
주파수 영역 도면 - 주파수에 대한 최대 진폭


![정현파와주파수관계.jpg](C:\lllilllilllilili.github.io\images\정현파와주파수관계.jpg)

그림 A,B에서 보는바와 같이 주파수가 커질수록 signal이 더 분주하게 바뀐다.

하지만 그림 C에서는 주파수가 한 포인트에서 표현될 수 없다. 

왜냐하면, 함수가 정현파로 sinwave의 주파수 성분을 모아놨기 때문에 특별한 방법을 사용해야 한다.
정확히는 sinwave가 아니고 삼각파이다. 수많은 정현파에 대한 주파수를 일일이 표현해야 한다.(모아놓은것이기 때문에)

그림C는 무한개의 sinwave 혹은 coswave가 주파수 그리고 진폭도 다 다르기 때문에 이것을 그리기 위한 푸리에 시리지를 적용시킨다. 푸리에 시리즈의 식은 ppt에 있는데 기본적으로 0부터 무한대까지 sinwave과 coswave를 이용해서 주파수를 찾아내는 것이다.

그래서, sin과 cos함수를 주파수 도메인에서 그리면 무한개 주파수 성분으로 그려넣어야 푸리에 시리즈를 통해서 주파수 도메인으로 그렸다고 할 수 있다.

![푸리에시리즈.jpg](C:\lllilllilllilili.github.io\images\푸리에시리즈.jpg)

## 푸리에 시리즈와 푸리에 트랜스폼의 차이
이 둘의 공통점은 타임 도메인에서 signal이 주어졌을때 주파수도메인에서 그림을 그리기 위한 중간과정이다.

푸리에 시리즈는 주기함수를 가지고 얘기한다. frequency를 적용할때 푸리에 시리즈를 사용한다.(주기함수)
하지만
비주기함수를 적용할때는 푸리에 트랜스폼을 사용한다.

Time domain에서 주기함수로 주어지지 않으면 푸리에 시리즈 적용이 안된다. 주기함수가 아닌 signal이 나타나면 푸리에트랜스폼으로 주파수영역표시 가능, 비주기함수

![푸리에트랜스폼설명하기위해.jpg](C:\lllilllilllilili.github.io\images\푸리에트랜스폼설명하기위해.jpg)

하지만, 푸리에트랜스폼도 푸리에시리즈에서부터 시작됬다.
주기(변수역할)에따라서 푸리에시리즈를 통해 주파수영역대에 표시되는것이 차이가 나는데, 주파수가 짧은게 변화률이 더 크니까 더 크게 표시된다.

반영이 되는 과정에서 서로다른 주기가 나타난다.
주기가 반영되면서 푸리에 트랜스폼도 생각해 볼 수 있는데
signal이 비주기 함수는 주기가 T가 같은 패턴이 존재하지않는다, equal 주기가 무한대이다.
비주기 함수는 주기가 무한대이다.
푸리에 시리즈 구하는 수식에 주기가 변수로 작용된다면 그 변수를 무한대 값으로 변경하면 푸리에 트랜스폼으로 구할 수 있는 공식이 만들어진다.

정리해보면 푸리에시리즈는 주기함수를 이용해서 주파수영역으로 표현할 수 있지만
푸리에트랜스폼은 비주기함수를 이용해서 주파수영역에 표현할 수 있다.

sinwave, coswave 주기가 일정하지 않고 무한대라서 이것을 다 더하면 비주기함수의 경우 C의 첫번째 그림처럼 나오지만 그렇지 않고 주기가 있는경우 sinwave 와 coswave가 무한개가 특정한 주파수 값을 갖기 때문에 이산적으로 나오게 된다. 
(비주기함수를 푸리에트랜스폼을 사용해서 만들어보면 싱크함수, Continuous한 값이 나오고 주기함수가 푸리에시리즈를 사용해서 만들어보면 discreate한 값이 나오는 주파수영역대의 모습을 살펴볼 수 있다.)

![비주기함수의경우 주파수영역에표현되는그림.jpg](C:\lllilllilllilili.github.io\images\비주기함수의경우 주파수영역에표현되는그림.jpg)
비주기함수에서 주기가 무한대로 가면은 주파수영역에서 보이는것은 오른쪽과 같다.

##### Note : 여러 sinwave를 다룰때는 frequency domain에서 다루는것이 좋다.

## 3.7
time domain에서 쓰면 복잡하고, 통신에서 sin wave를 다룰때 주파수 도메인을 사용하는 이유는 정형화된것이 아닌 합성신호를 주로 다루기 때문에 사용한다. (주파수 도메인이 표현하기에 더 간단하다.)

![주파수영역.PNG](C:\lllilllilllilili.github.io\images\주파수영역.PNG)
(오른쪽에서 3개의 spike로 표현한다.)

## 푸리에해석
푸리에해석을 통해서 sinwave로 합쳐진 합성신호를 푸리에 해석을 통해서 알수있다.
푸리에 시리즈는 주기함수와 비주기함수를 이용한 푸리에 시리즈 그리고 푸리에트랜스폼이 있다.

## k-th 하모닉
periodic - discrete frequencies
nonperiodic - continuous frequencies
fundemental frequency = 1/T
몇배되는 주파수를 더해지고 만들어지는 것을 하모닉이라하는데
k-f(fundemental frequency)를 k-th 하모닉(k배 곱해라 fundemental frequency에)이라하고
continous한 주파수영역의 signal은 앞서 말했다싶이 fundemental frequency(1/T)에 몇배되는 주파수들을 다 더해야한다.(sinwave, coswave의 합성함수로 부터 얻어지는 주파수들을)

![fundemental frequency.jpg](C:\lllilllilllilili.github.io\images\fundemental frequency.jpg)

## 복합주기신호

![복합주기신호.PNG](C:\lllilllilllilili.github.io\images\복합주기신호.PNG)


![복합주기신호와 분해.PNG](C:\lllilllilllilili.github.io\images\복합주기신호와 분해.PNG)

아래의 그림에서 3개의 sin wave가 합쳐진것이 위에서 주파수 영역대에 빨간색으로 표현하고 있다. discreate value다.

저 빨간색이 원래의 해당 펄스에 더 가깝게 하기 위해서는 하모닉을 3배 9배 29배 증가시킬수록 빨간색은 원래의 사각펄스에 가까워진다. k배가 급증할수록 라인의 품질도 좋아야한다.
(frequency 3f, frequency 9f) 


![비주기신호의시간과주파수영역.PNG](C:\lllilllilllilili.github.io\images\비주기신호의시간과주파수영역.PNG)
Continuous한 value고, 주파수영역대에서 curve의 높이가 frequency의 비중을 의미한다.
왼쪽의 time domain에서의 가능한 모든 주파수 성분을 다 더한것이 오른쪽의 frequency domain에서의 모습이다.(이론적)

## bandwidth
가장 높은 성분과 가장 낮은 성분의 차이
가장 높은 주파수에서 가장 낮은 주파수를 빼도 차이가 된다.

## 주기와 비주기 복합 신호의 대역폭
첫번째 그림은 타임 도메인에서 주기함수 일것이고 discreate 함수다 그리고 두번째 그림은 비주기 함수이고 continous한 함수이다.

각각의 bandwidth는 4000Hz, 4000Hz이다.

## 3.10
대역폭 구하기

## 그림 3.13
주파수영역에서 대역폭

## 3.11
대역폭이 20Hz이고, 가장높은 주파수가 60Hz이다. 가장 낮은 주파수는?
가장 낮은 주파수는 40Hz이다.

## 3.12
![3.12.jpg](C:\lllilllilllilili.github.io\images\3.12.jpg)

## 3.14

![am과 fm의 차이.jpg](C:\lllilllilllilili.github.io\images\am과 fm의 차이.jpg)

지금까지 아날로그 신호를 보았다.
## 디지털신호

![디지털신호.PNG](C:\lllilllilllilili.github.io\images\디지털신호.PNG)
1-positive voltage
0-zero voltage
레벨이 여러개 있을 수 있다.
레벨을 높이면 bit rate이 많아진다. (속도가 빨라진다)
bit rate = 초당 보내지는 비트의 수

2의 좌승의 형태로 비트수가 쓰여지고, 레벨 여러개 쓰면 한 레벨의 여러 비트를 표현할 수 있고 레벨3이면 하나는 3비트로 표현한다.(전송속도 3배)

레벨을 증가시키는 보내지는 비트수가 많아지니까 속도가 늘어나지만 받는쪽에서는 11, 10 것처럼 정확한 레벨별 값을 세분화해서 맵핑시켜야만 한다. 레벨이 증가할수록 정밀도 비용이 요구된다.

위의그림은 8bit per sec
아래그림은 16bit per sec 로 전송된다.
## 3.16
레벨별로 logL =?
값을 얻어올 수 있음 단 2에 대한 log 표현
레벨이 L이면 하나의 signal이 의미하는것은 ?bit 이다.

## 3.17
log9 대강 3.1 정돈데
이렇게 소수로는 표현하지 않는다. 왜냐하면 레벨은 늘릴수록 하나의 signal이 가지고 있는 접오를 확인하는것인데 소수로 나타내면 표현도 어려울뿐더러 의미가 없다.
2의 배수로 만드는것이 의미있다.

## 기타
Bit rate=1초동안 전송된 비트의수
Bit length=한 비트가 전송매체를 통해 차지하는 길이


## Reference
Appendix E - Mathematical Review
Chapter3 Data and Signals
