---
post : layout
title : Data communication(3)
---
## 네트워크 유형
네트워크 유형에는 3가지가 있다. LAN, MAN, WAN이 있다. (약자는 생략...)
LAN<WAN<MAN의 규모인듯싶다.

## LAN : Local Area Network
개인 컴퓨터 혹은 워크스테이션간의 자원 공유를 목적으로 설계했다.
버스, 링, 스타의 형식의 토폴리지가 있다.
컴퓨터와 관련된 일의 링크를 담당한다.

## An Isolated LAN in the past and today
과거에는 LAN을 하나의 공통의 cable로 만들었었는데, 하나의 버스에 연결된 구조로
데이터를 받아서 목적지가 아니면 버리고, 다음 목적지로 즉 버스에 모든 디바이스에 데이터를 접근하도록 하는 브로드 캐스트 방식이었다.

현재에는 star 구조로 switch를 통해 디바이스와 스위치를 통한 다른 디바이스의 통신이 가능해졌다. (브로드캐스팅 안한다.) 과거에서처럼 자원이 연결된 상태에서 브로드 캐스트한 상태보단 스위치를 통한 별도의 자원 공유가 효율이 더 좋다. 네트워크의 스피드도 올라간다.

## 네트워크 시스템 구성도
스타구조로 이루어져 있다.
IPS=침입방지시스템

## Wide Area Network
LAN은 호스트 연결이 주로고, WAN은 디바이스의 커넥팅(스위치, 라우터)을 해준다.
LAN은 privately owned 인 LAN을 사용하는 단체들에 의해 가져지고, WAN은 회사나 임대한 단체에서 사용해진다. WAN이 더 크다.

## Chapter 17 : Objective
첫번째 부문은 디바이스 연결을 살펴본다. 
처음부분으로 hub로 연결되있고, 이 부분에서는 link-layor switch에 대해서 언급한다.
브로드 캐스트한 상황에서, LAN의 연결이 어떻게 loop을 형성하는지 역시 참고할 수 있다.
두번째 부문은 virtual LAN's 과 VLANs을 살펴본다. 
VLAN안에서 membership 어떻게 정의되는지 확인한다.
VLAN을 확인해보고, VNAL안에서 switch들이 어떻게 통신하는지 확인한다.
VLAN의 장점을 살펴본다.

## Connecting Devices
Host와 Network는 일반적으로 분리되서 동작하지 않는다.
커넥팅 디바이스(스위치, 라우터) 를 사용해서 호스트를 연결하고 네트워크를 만들기 위해서 혹은
네트워크를 연결하기 위해서 인터넷을 만들기 위한 발판으로 쓰인다고 생각하자.

## Three categories of connecting devices
가장 우선적으로 보아야 할것이, Hub는 physical에 해당하고 Link-layor switches는 Data-link에 해당하고, Router는 Transport & Network에 해당한다.
중요한점은, 이 프로토콜의 계층들이 5 - layor 이고, connecting device로 네트워크를 구성한다는 것이다.
Hub는 Mac을 볼 수 없고 브로드 캐스트를 주로 한다.
Switch는 Mac을 확인 할 수 있지만, IP 주소는 볼 수 없다.
Router는 IP를 확인할 수 있다.

## Hubs
Hub 자체가 connecting device다. 기능은 physical 한 위치에 있다. 브로드 캐스트를 한다.
신호가 먼 거리에는 데이터의 무결성이 훼손될 수 있기 때문에, 중재하는 장치를 둬서 weak, corrupted 가 되면 재생성, 재시도해서 신호를 전파한다.

### structure
star 구조고 LAN의 형태다.
Hub는 브로드캐스트로 데이터를 목적지를 알 수 없기 때문에 전부다 보낸다. 목적지가 맞지 않는 데이터는 확인후 버린다.
### role
신호를 보내고 hub에서 재생성, 재시도 해서 신호를 보내는 역할도 담당한다.
### feature
Hub의 특징은 star로 구성되기 때문에, connection이 동시 여러 형성 기능이 없다.
physical만 기능만 있어서 Hub에 지능이 없기 때문에 누구에게 보낼지 목적지 주소를 가늠할 기능이 없다.  =>  이것은 layor 2에 가면 switch에서 Mac 주소를 확인해서 목적지를 확인한다.
주소의 계층엔 4가지가 있는데 가장 하윗단이 Mac(48bit로 구성되있고,) 그위로 네트워크 장비는 Mac 주소를 가지고 있다. 따라서, 보내는 데이터의 목적지에 Mac 주소를 보내면 Hub에서 볼 수 있는 기능이 없기 때문에, physical 한 단계에서는 불가하다. 

## 17.1.2 Link-Layer Switches
Link layor와 switch는 physical과 data-link에서 실행한다.
데이터를 받고 거리가 있을경우엔 재실행해서 보낸다. 
Link layor device 경우, switch는 Mac을 활용해서 (소스와 목적지를 확인하고) 프레임을 포함한다.

## 17.3 Link-Layor Switch
switching table이 존재하고, Mac주소는 Link layor에서만 들여다 볼 수 있는 정보고 ub에는 그러한 기능이 없다. Switching table은 저절로 만들어 질 수 있다.
특히, 데이터가 오면 자기주소, 목적지 주소로 존재하며 (to respond) Hub와는 달리 목적지 주소로 보내줄수 있다.

## 17.4 Learing switch
처음에는 브로드 캐스트 방식으로 뿌려지고, 데이터를 보내게되면 테이블을 점차 완성시킨다.(switch table) 이 테이블이 완성되면 목적지로 보내진다. 

## Loop problem in a learning switch (Part a)
Station A sends a frame to station D 
(LAN의 위치에 있는 A device가 다른 LAN에 위치한 D device를 찾아가는 형성과정)
A에서 데이터를 보내면 중간영역에 Hub가 브로드 캐스트를 통해 전체 영역에 다 데이터를 보내게 된다. 이때 switch는 Hub가 1번 port에 있는것을 알게 되고, 2개의 switch는 Mac주소를 파악해서 Gradual building of Table을 생성하는데 loop이 형성되지 않게끔 해야 한다. => 스패닝툴 알고리즘(loop 해결 알고리즘) 이라고 한다.

## Loop problem in a learing switch ( Part b )
스패닝툴 알고리즘을 적용하면 physical하게 연결되어 있지만 logical하게 구성하기 위한 알고리즘을 적용한다. 
LAN1에서 LAN2로 갈때 logical하게 테이블을 완성시킨다. 

## Routers
네트워크의 layer를 언급할때는 Part4의 라우터를 논의한다. 라우터가 네트워크 레이어 공유할땐 switch와 hub가 위치인 two-layer가 함꼐 사용된다.
라우터는 three - layer device고 physical과 data-link layer 그리고 network layer안에서 작동한다.

## Routing example
LAN을 살펴보면, LAN안에 스위치는 MAC주소만 보고 확인할 수 있다. 근데 맞지 않는 MAC 주소가 오면 기본적으로 라우터에게 보내고, 이 라우터는 IP를 확인할 수 있는 layer3 기능이 존재하기 때문에 판단후, 외부로 보내는 역할을 담당하게 된다.

## Virtual LANS 
가상랜이라고 부르며, 서로 다른 물리적인 LAN에 서로 다른 station이 connecting 시 가상의 LAN이 요구될지 모른다. 소프트웨어로 구성된 근거리 통신망 물리적인 선으로 구성된것이 아니다.

## A switch connecting three LANs
기존의 switch 방식을 보여주고 있고, switch가 통제하는 LAN의 구역에서는 브로드 캐스팅이 실시되고, Lan안에 속해있는 Hub에 그륩들이 모여서 Switch로 전달되는 구조이다.

## A switch using VLAN software
switch with VLAN software, 가상 랜을 사용하는 스위치의 경우에 물리적인 위치가 달라서 LAN을 재구성해야 되는 상황에서 이러한 해결책이 VLAN이라는 것이다.

## Two switches in a backbone using VLAN software
스위치 위에 backbone 스위치를 두고, 고유 IP(MAC) 로 그륩핑을 하게 되면 스위치가 들어오는 패킷으로 MAC을 보고 보내준다. LAN을 자유자재로 구성하는것이 VLAN이고,
자기에게 물려있는 LAN을 임의대로 그륩핑하는것도 가능하고, 층을 달리해서 Virtual LAN 스위치에 포함시켜도 LAN을 구성하는데 문제가 없다.
### Virtual LAN은,
어느 포트에 물려있던 간에 Virtual LAN 기능이 있는 스위치는 임의대로 그륩(LAN)을 만들 수 있다. H/W 와 무관하게 S/W 적으로.
또한, BACKBONE 위치에 스위치에서의 네트워크구성도 VLAN이 가능하다.
구체적으로, 맥 어드레스 혹은 멀티캐스팅을 확인한 후에 VLAN을 할당하면서 MAC주소 (Interface number)을 보고 ex)1번 interface는 VLAN 1번 정한다. 그리고 물리적 연결이 되어있는 각 스테이션들은 멤버십을 나눈다던지, 맥 어드레스를 본다든지 등의 방법을 쓴다. IP는 스위치가 볼 수 없기 때문에 멥버쉽과 맥 어드레스를 2개 이상 조합해서 각 단말기 별로 VLAN을 그륩핑 한다.

## MemberShip
VLAN의 스테이션을 그륩화 하는데 사용할 수 있는 특성은?
Vendors는 Interface number, Port number, MAC addresses, IP addresses, IP multicast addresses 이것들을 2개혹은 2개 이상으로 조합해서 사용한다.

## 17.2.2 Configuration
station들이 어떻게 서로 다르게 VLAN들을 그륩하는지?
station들은 세가지중 하나로 구성된다. manually, semi-automatically, automatically
프로젝트 1,2 그륩이 존재하면 카테고리를 만족하는 각각의 VLAN 별도로 지정하는것을 자동화시킬 수 있다. logical 하게 구성할 수 있다.(loop을 피하는것)

## 17.2.3 Communication between Switches
multi-switched backbone에서 각각의 switch는 VLAN에 속해있는 station뿐만 아니라,station의 membership도 다른 스위치와 연결되어 있다. 
table maintenance, frame tagging, and time-division multiplexing 이 있다.

## 17.2.4 Fourth Generation(4G)

## A Point - to - Point WAN
네트워크 간에 1:1 연결 형태이다.

## A Switched WAN
LAN은 규모가 크다고 해도 캠퍼스 정도의 LAN이다. (HOST들을 연결지어주는데에)
WAN은 커넥팅디바이스(스위치, 라우터, 허브) 커넥팅 디바이스 연결을 통해 묶고있다.
* WAN - 큰 통신회사 Network, point - to - point 으로 복잡한데 Switched WAN 그리고 LAN 사이에는 Point - to - Point 로 구성되어 있다. Backbone Switch와의 연결도 Point - to - Point로 되어있다. 
* LAN - 캠퍼스정도

## An internetwork made of two LANs and one WAN
LAN 으로 구성된 것이 Hub로 연결되어있고 Router로 묶이면서 Point - to - Point로 묶여있다.

## A heterogeneous network made of WANs and LANs
Modem 과 Modem 사이에도 Point-to-point WAN 방식이고, 
Switched WAN 구조가 커넥팅 디바이스에 속하며, Router는 Router와 Point-to-Point 로 연결되어있다. Switched WAN과 Point-to-Point로 전세계를 카바할 수 있다. 
